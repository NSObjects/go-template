package server

import (
	"testing"
	"{{.ModulePath}}/internal/configs"
)

func TestFromAppConfig(t *testing.T) {
	cfg := configs.Config{
		System: configs.SystemConfig{
			Port: ":8080",
			Env:  "dev",
		},
	}

	serverConfig := FromAppConfig(cfg)
	
	if serverConfig.Port != ":8080" {
		t.Errorf("expected port :8080, got %s", serverConfig.Port)
	}
	
	if !serverConfig.Debug {
		t.Error("expected debug to be true for dev environment")
	}
}

func TestServerConfig(t *testing.T) {
	cfg := &ServerConfig{
		Port:            ":8080",
		Debug:           true,
		HideBanner:      false,
		HidePort:        false,
		ShutdownTimeout: 30,
	}

	if cfg.Port != ":8080" {
		t.Errorf("expected port :8080, got %s", cfg.Port)
	}
	
	if !cfg.Debug {
		t.Error("expected debug to be true")
	}
}
